<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Homework 08: Findit</title>

	<!-- Bootstrap core CSS -->
	<link href="static/css/blugold.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<style>
	body {
	    padding: 10px;
	}
	</style>
    </head>
    <body>
	<div class="container">

	    <div class="row">
		<div class="page-header">
		    <ul class="nav nav-pills pull-right">
			
		    </ul>
		    <h1><i class="fa fa-code"></i> Homework 08: Findit</h1>
		</div>
	    </div>

            
<p>The goal of this homework assignment is to allow you to practice managing
<a href="https://en.wikipedia.org/wiki/C_dynamic_memory_allocation">dynamic memory</a> in <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a> by building a <a href="https://en.wikipedia.org/wiki/Linked_list">linked list</a> and navigating the <a href="https://en.wikipedia.org/wiki/File_system">file
system</a> using low-level functions and <a href="https://en.wikipedia.org/wiki/System_call">system calls</a>.  The first two
activities involve implementing a <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a> with a <strong>tail</strong>
pointer and then a few <strong>filter</strong> functions that check various attributes
about files, while the last activity requires you to use these structures and
functions to build a file system search utility similar to <a href="https://man7.org/linux/man-pages/man1/find.1.html">find</a> named
<code>findit</code>.</p>
<p>For this assignment, record your source code and any responses to the
following activities in the <code>homework08</code> folder of your <strong>assignments</strong>
<a href="https://github.com">GitHub</a> repository and push your work by <strong>noon Saturday, April 13</strong>.</p>
<div class="alert alert-info">
<h4 id="frequently-asked-questions"><i class="fa fa-question"></i> Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permanent link">&para;</a></h4>
<div class="text-center">
<iframe allowfullscreen="true" frameborder="0" height="389" mozallowfullscreen="true" src="https://docs.google.com/presentation/d/e/2PACX-1vRZX3ZCoyt_xPKcQ1whfFC6YHSSnct-5pSXDJIVjJe4tbtNsut9OYi3i8CrCOca9a9YR7XPs1U4Wvfm/embed?start=false&amp;loop=false&amp;delayms=3000" webkitallowfullscreen="true" width="480"></iframe>
</div>
</div>
<h2 id="activity-0-preparation">Activity 0: Preparation<a class="headerlink" href="#activity-0-preparation" title="Permanent link">&para;</a></h2>
<p>Before starting this homework assignment, you should first perform a <code>git
pull</code> to retrieve any changes in your remote <a href="https://github.com">GitHub</a> repository:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ <span style="color: #008000">cd</span> path/to/repository                   <span style="color: #3D7B7B; font-style: italic"># Go to assignments repository</span>

$ git switch master                       <span style="color: #3D7B7B; font-style: italic"># Make sure we are in master branch</span>

$ git pull --rebase                       <span style="color: #3D7B7B; font-style: italic"># Get any remote changes not present locally</span>
</code></pre></div>

<p>Next, create a new branch for this assignment:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ git checkout -b homework08              <span style="color: #3D7B7B; font-style: italic"># Create homework08 branch and check it out</span>
</code></pre></div>

<h3 id="task-1-skeleton-code">Task 1: Skeleton Code<a class="headerlink" href="#task-1-skeleton-code" title="Permanent link">&para;</a></h3>
<p>To help you get started, the instructor has provided you with the following
<strong>skeleton code</strong>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Go to homework08 folder</span>
$ <span style="color: #008000">cd</span> homework08

<span style="color: #3D7B7B; font-style: italic"># Download Makefile</span>
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/Makefile

<span style="color: #3D7B7B; font-style: italic"># Download C skeleton code</span>
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/filter.c
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/filter.unit.c
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/findit.c
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/findit.h
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/list.c
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20289.sp24/static/txt/homework08/list.unit.c
</code></pre></div>

<p>Once downloaded, you should see the following files in your <code>homework08</code> directory:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>homework08
    <span style="color: #AA5D1F; font-weight: bold">\_</span> Makefile       <span style="color: #3D7B7B; font-style: italic"># This is the Makefile for building all the assignment artifacts</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> filter.c       <span style="color: #3D7B7B; font-style: italic"># This is the filter functions C source file</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> filter.unit.c  <span style="color: #3D7B7B; font-style: italic"># This is the filter functions C unit test source file</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> findit.c       <span style="color: #3D7B7B; font-style: italic"># This is the findit utility C source file</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> findit.h       <span style="color: #3D7B7B; font-style: italic"># This is the findit utility C header file</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> list.c         <span style="color: #3D7B7B; font-style: italic"># This is the linked list C source file</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> list.unit.c    <span style="color: #3D7B7B; font-style: italic"># This is the linked list C unit test source file</span>
</code></pre></div>

<h3 id="task-2-initial-import">Task 2: Initial Import<a class="headerlink" href="#task-2-initial-import" title="Permanent link">&para;</a></h3>
<p>Now that the files are downloaded into the <code>homework08</code> folder, you can
<strong>commit</strong> them to your <a href="https://git-scm.com/">git</a> repository:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ git add Makefile                            <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git add *.c *.h
$ git commit -m <span style="color: #BA2121">&quot;Homework 08: Initial Import&quot;</span> <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
</code></pre></div>

<h3 id="task-3-unit-tests">Task 3: Unit Tests<a class="headerlink" href="#task-3-unit-tests" title="Permanent link">&para;</a></h3>
<p>After downloading these files, you can run <code>make test</code> to run the tests.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run all tests (will trigger automatic download)</span>
$ make <span style="color: #008000">test</span>
</code></pre></div>

<p>You will notice that the Makefile downloads these additional test data and scripts:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>homework08
    <span style="color: #AA5D1F; font-weight: bold">\_</span> filter.unit.sh   <span style="color: #3D7B7B; font-style: italic"># This is the filter functions unit test shell script</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> find.test.sh     <span style="color: #3D7B7B; font-style: italic"># This is the findit utility test shell script</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> list.unit.sh     <span style="color: #3D7B7B; font-style: italic"># This is the linked list unit test shell script</span>
</code></pre></div>

<p>You will be using these <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a> to verify the correctness and behavior
of your code.</p>
<div class="alert alert-info">
<h4 id="automatic-downloads"><i class="fa fa-download"></i> Automatic Downloads<a class="headerlink" href="#automatic-downloads" title="Permanent link">&para;</a></h4>
<p>The <code>test</code> scripts are automatically downloaded by the <code>Makefile</code>, so any
modifications you do to them will be lost when you run <code>make</code> again. Likewise,
because they are automatically downloaded, you do not need to <code>add</code> or <code>commit</code>
them to your <a href="https://git-scm.com/">git</a> repository.</p>
</div>
<h3 id="task-4-makefile">Task 4: Makefile<a class="headerlink" href="#task-4-makefile" title="Permanent link">&para;</a></h3>
<p>The <code>Makefile</code> contains all the <strong>rules</strong> or <strong>recipes</strong> for building the
project artifacts (e.g. <code>findit</code>):</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #19177C">CC</span><span style="color: #666666">=</span>       gcc
<span style="color: #19177C">CFLAGS</span><span style="color: #666666">=</span>   -Wall -g -std<span style="color: #666666">=</span>gnu99
<span style="color: #19177C">LD</span><span style="color: #666666">=</span>       gcc
<span style="color: #19177C">LDFLAGS</span><span style="color: #666666">=</span>  -L.
<span style="color: #19177C">TARGETS</span><span style="color: #666666">=</span>  findit

<span style="color: #0000FF">all</span><span style="color: #666666">:</span>    <span style="color: #008000; font-weight: bold">$(</span><span style="color: #19177C">TARGETS</span><span style="color: #008000; font-weight: bold">)</span>

<span style="color: #3D7B7B; font-style: italic">#-------------------------------------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># TODO: Add rules for object files</span>
<span style="color: #3D7B7B; font-style: italic">#-------------------------------------------------------------------------------</span>

<span style="color: #0000FF">list.o</span><span style="color: #666666">:</span>

<span style="color: #0000FF">filter.o</span><span style="color: #666666">:</span>

<span style="color: #0000FF">findit.o</span><span style="color: #666666">:</span>

<span style="color: #3D7B7B; font-style: italic">#-------------------------------------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># TODO: Add rules for executables</span>
<span style="color: #3D7B7B; font-style: italic">#-------------------------------------------------------------------------------</span>

<span style="color: #0000FF">findit</span><span style="color: #666666">:</span>

<span style="color: #3D7B7B; font-style: italic">#-------------------------------------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># DO NOT MODIFY BELOW</span>
<span style="color: #3D7B7B; font-style: italic">#-------------------------------------------------------------------------------</span>

<span style="border: 1px solid #FF0000">...</span><span style="color: #bbbbbb"></span>
</code></pre></div>

<p>For this task, you will need to add <a href="https://www.gnu.org/software/make/manual/html_node/Rule-Example.html#Rule-Example">rules</a> for building the <em>intermediate</em>
<a href="https://en.wikipedia.org/wiki/Object_file">object</a> files (ie. <code>list.o</code>, <code>filter.o</code>, <code>findit.o</code>) and the <code>findit</code>
<em>executable</em> with the appropriate dependencies as shown the <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">DAG</a> below:</p>
<div class="thumbnail">
  <img src="static/img/homework08-makefile.png" class="img-responsive">
</div>

<div class="alert alert-info">
<h4 id="makefile-variables"><i class="fa fa-cogs"></i> Makefile Variables<a class="headerlink" href="#makefile-variables" title="Permanent link">&para;</a></h4>
<p>You <strong>must</strong> use the <code>CC</code>, <code>CFLAGS</code>, <code>LD</code>, <code>LDFLAGS</code>, <code>AR</code>, and <code>ARFLAGS</code>
variables when appropriate in your <a href="https://www.gnu.org/software/make/manual/html_node/Rule-Example.html#Rule-Example">rules</a>.  You <strong>should</strong> also consider
using <a href="https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html">automatic variables</a> such as <code>$@</code> and <code>$&lt;</code> as well.</p>
</div>
<p>Once you have a working <code>Makefile</code>, you should be able to run the following commands:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Build all TARGETS</span>
$ make
gcc -Wall -g -std<span style="color: #666666">=</span>gnu99 -c -o findit.o findit.c
gcc -Wall -g -std<span style="color: #666666">=</span>gnu99 -c -o list.o list.c
gcc -Wall -g -std<span style="color: #666666">=</span>gnu99 -c -o filter.o filter.c
gcc -L. -o findit findit.o list.o filter.o

<span style="color: #3D7B7B; font-style: italic"># Run all tests</span>
$ make <span style="color: #008000">test</span>
Testing list ...
 node_create                                                  ... Success
 node_delete                                                  ... Success
 list_append                                                  ... Success
 list_filter                                                  ... Success
 list_output                                                  ... Success

   Score <span style="color: #666666">4</span>.00 / <span style="color: #666666">4</span>.00
  Status Success

Testing filter ...
 filter_by_type                                               ... Success
 filter_by_name                                               ... Success
 filter_by_mode                                               ... Success

   Score <span style="color: #666666">3</span>.00 / <span style="color: #666666">3</span>.00
  Status Success

Testing findit utility...
 findit                                                       ... Success
 findit <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                                            ... Success
 findit /etc                                                  ... Success
 findit /etc  <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                                      ... Success
 findit /etc -type f                                          ... Success
 findit /etc -type f <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                               ... Success
 findit /etc -type d                                          ... Success
 findit /etc -type d <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                               ... Success
 findit /etc -name <span style="color: #BA2121">&#39;*.conf&#39;</span>                                   ... Success
 findit /etc -name <span style="color: #BA2121">&#39;*.conf&#39;</span> <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                        ... Success
 findit /etc -readable                                        ... Success
 findit /etc -readable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                             ... Success
 findit /etc -writable                                        ... Success
 findit /etc -writable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                             ... Success
 findit /etc -executable                                      ... Success
 findit /etc -executable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                           ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span>                              ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span> <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                   ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span> -executable                  ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span> -executable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>       ... Success
 findit . -name <span style="color: #BA2121">&#39;*.c&#39;</span>                                         ... Success
 findit . -name <span style="color: #BA2121">&#39;*.c&#39;</span> <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                              ... Success
 findit . -writable                                           ... Success
 findit . -writable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                                ... Success
 findit . -type f -name <span style="color: #BA2121">&#39;*.unit&#39;</span> -executable                  ... Success
 findit . -type f -name <span style="color: #BA2121">&#39;*.unit&#39;</span> -executable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>       ... Success

   Score <span style="color: #666666">3</span>.00 / <span style="color: #666666">3</span>.00
  Status Success

<span style="color: #3D7B7B; font-style: italic"># Remove generated artifacts</span>
$ make clean
</code></pre></div>

<div class="alert alert-danger">
<p><strong>Note</strong>: The tests will <strong>fail</strong> if you haven't implemented all the
  necessary functions appropriately.</p>
</div>
<div class="alert alert-warning">
<h4 id="warnings"><i class="fa fa-warning"></i> Warnings<a class="headerlink" href="#warnings" title="Permanent link">&para;</a></h4>
<p>You must include the <code>-Wall</code> flag in your <code>CFLAGS</code> when you compile.  This
also means that your code must <strong>compile without any warnings</strong>, otherwise
points will be deducted.</p>
</div>
<h3 id="task-5-findith">Task 5: <code>findit.h</code><a class="headerlink" href="#task-5-findith" title="Permanent link">&para;</a></h3>
<p>The <code>findit.h</code> file is the <a href="https://en.wikipedia.org/wiki/Include_directive#C.2FC.2B.2B">header</a> file for the <code>findit</code> utility, which
means it contains the <a href="https://en.wikipedia.org/wiki/Typedef">type definitions</a> and function <a href="https://en.wikipedia.org/wiki/Function_prototype">prototypes</a>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic">/* findit.h: Search for files in a directory hierarchy */</span><span style="color: #bbbbbb"></span>

<span style="color: #9C6500">#pragma once</span>

<span style="color: #9C6500">#include</span><span style="color: #bbbbbb"> </span><span style="color: #3D7B7B; font-style: italic">&lt;stdbool.h&gt;</span><span style="color: #9C6500"></span>
<span style="color: #9C6500">#include</span><span style="color: #bbbbbb"> </span><span style="color: #3D7B7B; font-style: italic">&lt;stdio.h&gt;</span><span style="color: #9C6500"></span>

<span style="color: #3D7B7B; font-style: italic">/* Options Structure */</span><span style="color: #bbbbbb"></span>

<span style="color: #008000; font-weight: bold">typedef</span><span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">struct</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #B00040">int</span><span style="color: #bbbbbb">   </span>type;<span style="color: #bbbbbb">         </span><span style="color: #3D7B7B; font-style: italic">// File type (-type)</span>
<span style="color: #bbbbbb">    </span><span style="color: #B00040">char</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>name;<span style="color: #bbbbbb">         </span><span style="color: #3D7B7B; font-style: italic">// File name pattern (-name)</span>
<span style="color: #bbbbbb">    </span><span style="color: #B00040">int</span><span style="color: #bbbbbb">   </span>mode;<span style="color: #bbbbbb">         </span><span style="color: #3D7B7B; font-style: italic">// Access modes (-executable, -readable, -writable)</span>
}<span style="color: #bbbbbb"> </span>Options;<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">/* Filter Functions */</span><span style="color: #bbbbbb"></span>

<span style="color: #008000; font-weight: bold">typedef</span><span style="color: #bbbbbb"> </span><span style="color: #B00040">bool</span><span style="color: #bbbbbb"> </span>(<span style="color: #666666">*</span>Filter)(<span style="color: #008000; font-weight: bold">const</span><span style="color: #bbbbbb"> </span><span style="color: #B00040">char</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>path,<span style="color: #bbbbbb"> </span>Options<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>options);<span style="color: #bbbbbb"></span>

<span style="color: #B00040">bool</span><span style="color: #bbbbbb">  </span><span style="color: #0000FF">filter_by_type</span>(<span style="color: #008000; font-weight: bold">const</span><span style="color: #bbbbbb"> </span><span style="color: #B00040">char</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>path,<span style="color: #bbbbbb"> </span>Options<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>options);<span style="color: #bbbbbb"></span>
<span style="color: #B00040">bool</span><span style="color: #bbbbbb">  </span><span style="color: #0000FF">filter_by_name</span>(<span style="color: #008000; font-weight: bold">const</span><span style="color: #bbbbbb"> </span><span style="color: #B00040">char</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>path,<span style="color: #bbbbbb"> </span>Options<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>options);<span style="color: #bbbbbb"></span>
<span style="color: #B00040">bool</span><span style="color: #bbbbbb">  </span><span style="color: #0000FF">filter_by_mode</span>(<span style="color: #008000; font-weight: bold">const</span><span style="color: #bbbbbb"> </span><span style="color: #B00040">char</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>path,<span style="color: #bbbbbb"> </span>Options<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>options);<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">/* Data Union */</span><span style="color: #bbbbbb"></span>

<span style="color: #008000; font-weight: bold">typedef</span><span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">union</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #B00040">char</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span><span style="color: #bbbbbb">  </span>string;<span style="color: #bbbbbb">     </span><span style="color: #3D7B7B; font-style: italic">// String data</span>
<span style="color: #bbbbbb">    </span>Filter<span style="color: #bbbbbb">  </span>function;<span style="color: #bbbbbb">   </span><span style="color: #3D7B7B; font-style: italic">// Filter function</span>
}<span style="color: #bbbbbb"> </span>Data;<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">/* Node Structure */</span><span style="color: #bbbbbb"></span>

<span style="color: #008000; font-weight: bold">typedef</span><span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">struct</span><span style="color: #bbbbbb"> </span><span style="color: #0000FF; font-weight: bold">Node</span><span style="color: #bbbbbb"> </span>Node;<span style="color: #bbbbbb"></span>
<span style="color: #008000; font-weight: bold">struct</span><span style="color: #bbbbbb"> </span><span style="color: #0000FF; font-weight: bold">Node</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>Data<span style="color: #bbbbbb">    </span>data;<span style="color: #bbbbbb">       </span><span style="color: #3D7B7B; font-style: italic">// Data value</span>
<span style="color: #bbbbbb">    </span>Node<span style="color: #bbbbbb">   </span><span style="color: #666666">*</span>next;<span style="color: #bbbbbb">       </span><span style="color: #3D7B7B; font-style: italic">// Pointer to next Node</span>
};<span style="color: #bbbbbb"></span>

Node<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span><span style="color: #bbbbbb">  </span><span style="color: #0000FF">node_create</span>(Data<span style="color: #bbbbbb"> </span>data,<span style="color: #bbbbbb"> </span>Node<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>next);<span style="color: #bbbbbb"></span>
<span style="color: #B00040">void</span><span style="color: #bbbbbb">    </span><span style="color: #0000FF">node_delete</span>(Node<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>n,<span style="color: #bbbbbb"> </span><span style="color: #B00040">bool</span><span style="color: #bbbbbb"> </span>release,<span style="color: #bbbbbb"> </span><span style="color: #B00040">bool</span><span style="color: #bbbbbb"> </span>recursive);<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">/* List Structure */</span><span style="color: #bbbbbb"></span>

<span style="color: #008000; font-weight: bold">typedef</span><span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">struct</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>Node<span style="color: #bbbbbb">   </span><span style="color: #666666">*</span>head;<span style="color: #bbbbbb">       </span><span style="color: #3D7B7B; font-style: italic">// Pointer to first Node</span>
<span style="color: #bbbbbb">    </span>Node<span style="color: #bbbbbb">   </span><span style="color: #666666">*</span>tail;<span style="color: #bbbbbb">       </span><span style="color: #3D7B7B; font-style: italic">// Pointer to last Node</span>
}<span style="color: #bbbbbb"> </span>List;<span style="color: #bbbbbb"></span>

<span style="color: #B00040">void</span><span style="color: #bbbbbb">    </span><span style="color: #0000FF">list_append</span>(List<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>l,<span style="color: #bbbbbb"> </span>Data<span style="color: #bbbbbb"> </span>data);<span style="color: #bbbbbb"></span>
<span style="color: #B00040">void</span><span style="color: #bbbbbb">    </span><span style="color: #0000FF">list_filter</span>(List<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>l,<span style="color: #bbbbbb"> </span>Filter<span style="color: #bbbbbb"> </span>filter,<span style="color: #bbbbbb"> </span>Options<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>options,<span style="color: #bbbbbb"> </span><span style="color: #B00040">bool</span><span style="color: #bbbbbb"> </span>release);<span style="color: #bbbbbb"></span>
<span style="color: #B00040">void</span><span style="color: #bbbbbb">    </span><span style="color: #0000FF">list_output</span>(List<span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>l,<span style="color: #bbbbbb"> </span><span style="color: #B00040">FILE</span><span style="color: #bbbbbb"> </span><span style="color: #666666">*</span>stream);<span style="color: #bbbbbb"></span>
</code></pre></div>

<p>Other <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a> source files will <code>#include</code> this file in order to use the
functions we will be implementing in this assignment.</p>
<h4 id="options-structure">Options Structure<a class="headerlink" href="#options-structure" title="Permanent link">&para;</a></h4>
<p>The <code>Options</code> structure is used by the <code>Filter</code> functions to check the
attribute of various files and directories encountered in the <code>findit</code>
program.  It has the following fields:</p>
<ol>
<li>
<p><code>type</code>: This is used to store the file type (ie. <a href="https://man7.org/linux/man-pages/man7/inode.7.html">S_IFREG</a>, <a href="https://man7.org/linux/man-pages/man7/inode.7.html">S_IFDIR</a>) to
  match against.</p>
</li>
<li>
<p><code>name</code>: This is used to store the <a href="https://man7.org/linux/man-pages/man7/glob.7.html">glob pattern</a> to match against the
  <a href="https://man7.org/linux/man-pages/man3/basename.3.html">basename</a> of a <code>path</code> string.</p>
</li>
<li>
<p><code>mode</code>: This is used to store the <a href="https://man7.org/linux/man-pages/man2/access.2.html">access mode</a> to match against.</p>
</li>
</ol>
<h4 id="data-union">Data Union<a class="headerlink" href="#data-union" title="Permanent link">&para;</a></h4>
<p>The <code>Data</code> union is used by the <code>List</code> structure to store either a <a href="https://en.wikipedia.org/wiki/String_(computer_science)">string</a>
or a <code>Filter</code> function pointer:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic">// Declare a Data union with a string</span>
Data<span style="color: #bbbbbb"> </span>dp<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span>(Data)<span style="color: #BA2121">&quot;file path&quot;</span>;<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">// Access string</span>
puts(dp.string)<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">// Declare a Data union with a Filter function pointer</span>
Data<span style="color: #bbbbbb"> </span>df<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span>(Data)filter_by_type;<span style="color: #bbbbbb"></span>

<span style="color: #3D7B7B; font-style: italic">// Access Filter function</span>
df.function(path,<span style="color: #bbbbbb"> </span>options);<span style="color: #bbbbbb"></span>
</code></pre></div>

<p>The details of the <code>Node</code> structure, <code>List</code> structure, and <code>Filter</code> functions
and what you need to implement are provided in the following sections.</p>
<div class="alert alert-info">
<p><strong>Note</strong>: For this task, you <strong>do not</strong> need to modify this file.  Instead,
you should review it and ensure you understand the provided code.</p>
</div>
<h2 id="activity-1-linked-list-4-points">Activity 1: Linked List (4 Points)<a class="headerlink" href="#activity-1-linked-list-4-points" title="Permanent link">&para;</a></h2>
<p>The <code>findit</code> utility works by first walking a directory <em>recursively</em> and
adding any <em>entries</em> it encounters to a <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a> of <em>file paths</em>.
For the first activity, you are to implement a <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a> with both
a <code>head</code> and <code>tail</code> pointer as show below:</p>
<div class="thumbnail">
  <img src="static/img/homework08-linkedlist.png" class="img-responsive">
</div>

<p>The <code>List</code> structure consists of two pointers to <code>Node</code> structures:</p>
<ol>
<li><code>head</code>: This points to the first <code>Node</code> in the <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a>.</li>
<li><code>tail</code>: This points to the last <code>Node</code> in the <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a>.</li>
</ol>
<p>If the <code>List</code> is empty, then both <code>head</code> and <code>tail</code> should be <code>NULL</code>.</p>
<p>Each <code>Node</code> structure contains a <code>Data</code> union to store either a <a href="https://en.wikipedia.org/wiki/String_(computer_science)">string</a> or a
<code>Filter</code> function pointer, and a pointer to the next <code>Node</code> in the <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly
linked list</a>.</p>
<h3 id="task-1-listc">Task 1: <code>list.c</code><a class="headerlink" href="#task-1-listc" title="Permanent link">&para;</a></h3>
<p>The <code>list.c</code> file contains the <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a> implementation for the <a href="https://en.wikipedia.org/wiki/Linked_list">linked list</a>
structure.  For this task, you will need to implement the following
functions:</p>
<ol>
<li>
<p><code>Node * node_create(Data data, Node *next)</code></p>
<blockquote>
<p>This function allocates a new <code>Node</code> structure on the <a href="https://en.wikipedia.org/wiki/Heap_(programming)">heap</a>,
initializes its <code>data</code> and <code>next</code> attributes, and returns a pointer to
this new <code>Node</code> structure.</p>
</blockquote>
<p><div class="alert alert-success" markdown="1">
<strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man3/malloc.3.html">malloc</a> or <a href="https://man7.org/linux/man-pages/man3/malloc.3.html">calloc</a>.
</div></p>
</li>
<li>
<p><code>void node_delete(Node *n, bool release, bool recursive)</code></p>
<blockquote>
<p>This function deallocates the given <code>Node</code> structure.  If <code>recursive</code>
is <code>true</code>, then the function will call <code>node_delete</code> on the <code>next</code> item
in the <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a>.  Likewise, if <code>release</code> is <code>true</code> then the
<code>data</code> <a href="https://en.wikipedia.org/wiki/String_(computer_science)">string</a> will also be deallocated (before deallocating the <code>Node</code>
itself).</p>
</blockquote>
<p><div class="alert alert-success" markdown="1">
<strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man3/malloc.3.html">free</a>.
</div></p>
</li>
<li>
<p><code>void list_append(List *l, Data data)</code></p>
<blockquote>
<p>This function adds a new <code>Node</code> structure with the given <code>data</code> to the
<code>tail</code> of the given <code>List</code> structure.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <code>node_create</code> and make sure you update the
  <code>head</code> and <code>tail</code> of the <code>List</code> appropriately.</p>
</div>
</li>
<li>
<p><code>void list_filter(List *l, Filter filter, Options *options, bool release)</code></p>
<blockquote>
<p>This function filters the given <code>List</code> by applying the <code>Filter</code>
function to each <code>Node</code>'s <code>Data</code> string and the given <code>Options</code>
structure.  If the <code>Filter</code> function returns <code>true</code>, then the <code>Node</code> is
kept.  Otherwise, it is removed from the <code>List</code>.  If <code>release</code> is <code>true</code>,
then the <code>Data</code> <a href="https://en.wikipedia.org/wiki/String_(computer_science)">string</a> should also be deallocated when removing a <code>Node</code>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <code>node_delete</code> when removing a <code>Node</code>.  Draw a
  picture and consider how many pointers you need to effectively traverse
  the <code>List</code> and to remove a <code>Node</code> in the middle of the <code>List</code>.
  Moreover, make sure you update the <code>head</code> and <code>tail</code> of the <code>List</code>
  appropriately.</p>
</div>
</li>
<li>
<p><code>void list_output(List *l, FILE *stream)</code></p>
<blockquote>
<p>This function prints the <code>Data</code> <a href="https://en.wikipedia.org/wiki/String_(computer_science)">string</a> of each <code>Node</code> in the given
<code>List</code> to the specified <code>stream</code>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man3/printf.3.html">fprintf</a>.</p>
</div>
</li>
</ol>
<h3 id="task-2-testing">Task 2: Testing<a class="headerlink" href="#task-2-testing" title="Permanent link">&para;</a></h3>
<p>As you implement the functions in <code>list.c</code>, you should use the <code>list.unit</code>
executable with the <code>list.unit.sh</code> script to test each of your functions:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Build test artifacts and run test scripts</span>
$ make test-list
Testing list ...
 node_create                                                  ... Success
 node_delete                                                  ... Success
 list_append                                                  ... Success
 list_filter                                                  ... Success
 list_output                                                  ... Success

   Score <span style="color: #666666">4</span>.00 / <span style="color: #666666">4</span>.00
  Status Success
</code></pre></div>

<p>You can also run the testing script manually:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run Shell unit test script manually</span>
$ ./list.unit.sh
...
</code></pre></div>

<p>To <strong>debug</strong> your <a href="https://en.wikipedia.org/wiki/Linked_list">linked list</a> functions, you can use [gdb] on the
<code>list.unit</code> executable:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Start gdb on list.unit</span>
$ gdb ./list.unit
<span style="color: #666666">(</span>gdb<span style="color: #666666">)</span> run <span style="color: #666666">0</span>     <span style="color: #3D7B7B; font-style: italic"># Run list.unit with the &quot;0&quot; command line argument (ie. node_create)</span>
...
</code></pre></div>

<p>You can also use <a href="https://valgrind.org/">valgrind</a> to check for memory errors:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Check for memory errors on list_lower test case</span>
$ valgrind --leak-check<span style="color: #666666">=</span>full ./list.unit <span style="color: #666666">0</span>
</code></pre></div>

<div class="alert alert-success">
<h4 id="iterative-development"><i class="fa fa-repeat"></i> Iterative Development<a class="headerlink" href="#iterative-development" title="Permanent link">&para;</a></h4>
<p>You should practice <a href="https://en.wikipedia.org/wiki/Iterative_and_incremental_development">iterative development</a>.  That is, rather than writing a
bunch of code and then debugging it all at once, you should concentrate on
one function at a time and then test that <strong>one thing at a time</strong>.  The
provided <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a> allow you to check on the correctness of the individual
functions without implementing everything at once.  Take advantage of this
and build one thing at a time.</p>
</div>
<h2 id="activity-2-filters-3-points">Activity 2: Filters (3 Points)<a class="headerlink" href="#activity-2-filters-3-points" title="Permanent link">&para;</a></h2>
<p>As with the conventional <a href="https://man7.org/linux/man-pages/man1/find.1.html">find</a> command, the <code>findit</code> utility will allow for
<em>filtering</em> the list of <em>file paths</em> by their individual attributes.  For
instance, to only display the regular files in a directory, you can do the
following with <a href="https://man7.org/linux/man-pages/man1/find.1.html">find</a>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Only display regular files in the current directory</span>
$ find . -type f
</code></pre></div>

<p>Internally, <code>findit</code> will support this feature by calling a <code>Filter</code> function
on each entry in its <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a> of <em>file paths</em> to check whether or
not to keep it.  In this specific example, <code>findit</code> would call
<code>filter_by_type</code> with an <code>Options</code> structure that has its <code>type</code> attribute
set to <a href="https://man7.org/linux/man-pages/man7/inode.7.html">S_IFREG</a> on each <code>Data</code> <a href="https://en.wikipedia.org/wiki/String_(computer_science)">string</a> in its <code>List</code>.</p>
<p>To support filtering the list of <em>file paths</em> in <code>findit</code>, you are to
implement three <code>Filter</code> functions that return <code>true</code> if the file <code>path</code>
should be kept in the list.</p>
<h3 id="task-1-filterc">Task 1: <code>filter.c</code><a class="headerlink" href="#task-1-filterc" title="Permanent link">&para;</a></h3>
<p>The <code>filter.c</code> file contains the <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a> implementation for the <code>Filter</code>
functions.  For this task, you will need to implement the following
functions:</p>
<ol>
<li>
<p><code>bool filter_by_type(const char *path, Options *options)</code></p>
<blockquote>
<p>This function returns <code>true</code> if the file at the specified <code>path</code> has
the corresponding <strong>type</strong> specified in the <code>Options</code> structure.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man2/stat.2.html">lstat</a> and <a href="https://man7.org/linux/man-pages/man2/stat.2.html">S_IFMT</a>.</p>
</div>
</li>
<li>
<p><code>bool filter_by_name(const char *path, Options *options)</code></p>
<blockquote>
<p>This function returns <code>true</code> if the <a href="https://man7.org/linux/man-pages/man3/basename.3.html">basename</a> of the specified <code>path</code>
has matches the <a href="https://man7.org/linux/man-pages/man7/glob.7.html">glob pattern</a> specified in the <code>Options</code> structure.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man3/basename.3.html">basename</a> and <a href="https://man7.org/linux/man-pages/man2/stat.2.html">fnmatch</a>.</p>
</div>
</li>
<li>
<p><code>bool filter_by_mode(const char *path, Options *options</code></p>
<blockquote>
<p>This function returns <code>true</code> if the file at the specified <code>path</code> has
the <a href="https://man7.org/linux/man-pages/man2/access.2.html">access mode</a> specified in the <code>Options</code> structure.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man2/access.2.html">access</a>.</p>
</div>
</li>
</ol>
<h3 id="task-2-testing_1">Task 2: Testing<a class="headerlink" href="#task-2-testing_1" title="Permanent link">&para;</a></h3>
<p>As you implement the functions in <code>filter.c</code>, you should use the
<code>filter.unit</code> executable with the <code>filter.unit.sh</code> script to test each of
your functions:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Build test artifacts and run test scripts</span>
$ make test-filter
Testing filter ...
 filter_by_type                                               ... Success
 filter_by_name                                               ... Success
 filter_by_mode                                               ... Success

   Score <span style="color: #666666">3</span>.00 / <span style="color: #666666">3</span>.00
  Status Success
</code></pre></div>

<p>You can also run the testing script manually:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run Shell unit test script manually</span>
$ ./filter.unit.sh
...
</code></pre></div>

<p>To <strong>debug</strong> your <code>Filter</code> functions, you can use [gdb] on the <code>filter.unit</code>
executable:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Start gdb on list.unit</span>
$ gdb ./filter.unit
<span style="color: #666666">(</span>gdb<span style="color: #666666">)</span> run <span style="color: #666666">0</span>     <span style="color: #3D7B7B; font-style: italic"># Run list.unit with the &quot;0&quot; command line argument (ie. filter_by_type)</span>
...
</code></pre></div>

<p>You can also use <a href="https://valgrind.org/">valgrind</a> to check for memory errors:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Check for memory errors on list_lower test case</span>
$ valgrind --leak-check<span style="color: #666666">=</span>full ./filter.unit <span style="color: #666666">0</span>
</code></pre></div>

<h2 id="activity-3-findit-3-points">Activity 3: Findit (3 Points)<a class="headerlink" href="#activity-3-findit-3-points" title="Permanent link">&para;</a></h2>
<p>Once you have implemented the <a href="https://en.wikipedia.org/wiki/Linked_list#Singly_linked_list">singly linked list</a> and the <code>Filter</code>
functions, you can complete the <code>findit</code> utility:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Display usage message</span>
$ ./findit
Usage: findit PATH <span style="color: #666666">[</span>OPTIONS<span style="color: #666666">]</span>

Options:

   -type <span style="color: #666666">[</span>f|d<span style="color: #666666">]</span>    File is of <span style="color: #008000">type</span> f <span style="color: #008000; font-weight: bold">for</span> regular file or d <span style="color: #008000; font-weight: bold">for</span> directory
   -name pattern  Name of file matches shell pattern
   -executable    File is executable or directory is searchable by user
   -readable      File is readable by user
   -writable      File is writable by user

<span style="color: #3D7B7B; font-style: italic"># Display only files</span>
$ ./findit .
./list.c
./list.unit
./Makefile.template
./filter.c.template
...

<span style="color: #3D7B7B; font-style: italic"># Display only .c files</span>
$ ./findit . -name <span style="color: #BA2121">&#39;*.c&#39;</span>
./list.c
./filter.unit.c
./findit.c
./filter.c
./list.unit.c

<span style="color: #3D7B7B; font-style: italic"># Display only executable files</span>
$ ./findit . -type f -executable
./list.unit
./findit
./list.unit.sh
./findit.test.sh
./filter.unit.sh
./filter.unit
</code></pre></div>

<p>As with the <a href="https://man7.org/linux/man-pages/man1/find.1.html">find</a> program, <code>findit</code> takes the <code>PATH</code> of the directory to
<em>recursively</em> search as its first argument and then any <em>options</em> the user
wishes to specify to filter the found entries.  For <code>findit</code>, you only need
to support the options shown above, which should correspond to a <code>Filter</code>
function you implemented in <strong>Activity 2</strong>.</p>
<h3 id="task-1-finditc">Task 1: <code>findit.c</code><a class="headerlink" href="#task-1-finditc" title="Permanent link">&para;</a></h3>
<p>The <code>findit.c</code> file contains the <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a> implementation for the <code>findit</code> program.
For this task, you will need to implement the following functions:</p>
<ol>
<li>
<p><code>void find_files(const char *root, List *files)</code></p>
<blockquote>
<p>This function recursively walks the given <code>root</code> directory and adds any
entries it finds to the given <code>List</code> of <code>files</code>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <a href="https://man7.org/linux/man-pages/man3/opendir.3.html">opendir</a>, <a href="https://man7.org/linux/man-pages/man3/readdir.3.html">readdir</a>, and <a href="https://man7.org/linux/man-pages/man3/closedir.3.html">closedir</a> as you did
  for <code>walk</code> in <a href="reading10.html">Reading 10</a>.  When recursing on a <strong>directory</strong>, make
  sure to use the <strong>full path</strong>.</p>
<p>When adding the <strong>full path</strong> to the <code>List</code> of <code>files</code>, consider using
  <a href="https://man7.org/linux/man-pages/man3/strdup.3.html">strdup</a>.</p>
<p>Moreover, consider when to add the <code>root</code> itself to <code>files</code>.</p>
</div>
</li>
<li>
<p><code>void filter_files(List *files, List *filters, Options *options)</code></p>
<blockquote>
<p>This function applies each <code>Filter</code> function in <code>filters</code> with the
given <code>Options</code> to the <code>List</code> of <code>files</code>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider using <code>list_filter</code>.</p>
</div>
</li>
<li>
<p><code>int main(int argc, char *argv[])</code></p>
<blockquote>
<p>This function parses the command line options, finds the files
recursively, applies any filters, and then prints out the found files.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Consider creating a <code>List</code> of <code>files</code>, a <code>List</code> of <code>filters</code>,
  and an <code>Options</code> structure.  As you parse the command line options, set
  the appropriate attributes in the <code>Options</code> structure and add the
  corresponding <code>Filter</code> function to your <code>List</code> of <code>filters</code>.</p>
<p>After parsing the command line options, you should then use
  <code>find_files</code>, <code>filter_files</code>, and then <code>list_output</code>.</p>
<p>Be sure to deallocate any resources you allocated on the <a href="https://en.wikipedia.org/wiki/Heap_(programming)">heap</a>.</p>
</div>
</li>
</ol>
<h3 id="task-2-testing_2">Task 2: Testing<a class="headerlink" href="#task-2-testing_2" title="Permanent link">&para;</a></h3>
<p>To test your <code>findit</code> utility, you can use the provided <code>findit.test.sh</code> script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Build test artifacts and run test scripts</span>
$ make test-findit
Testing findit utility...
 findit                                                       ... Success
 findit <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                                            ... Success
 findit /etc                                                  ... Success
 findit /etc  <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                                      ... Success
 findit /etc -type f                                          ... Success
 findit /etc -type f <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                               ... Success
 findit /etc -type d                                          ... Success
 findit /etc -type d <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                               ... Success
 findit /etc -name <span style="color: #BA2121">&#39;*.conf&#39;</span>                                   ... Success
 findit /etc -name <span style="color: #BA2121">&#39;*.conf&#39;</span> <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                        ... Success
 findit /etc -readable                                        ... Success
 findit /etc -readable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                             ... Success
 findit /etc -writable                                        ... Success
 findit /etc -writable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                             ... Success
 findit /etc -executable                                      ... Success
 findit /etc -executable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                           ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span>                              ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span> <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                   ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span> -executable                  ... Success
 findit /etc -type d -name <span style="color: #BA2121">&#39;*.d&#39;</span> -executable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>       ... Success
 findit . -name <span style="color: #BA2121">&#39;*.c&#39;</span>                                         ... Success
 findit . -name <span style="color: #BA2121">&#39;*.c&#39;</span> <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                              ... Success
 findit . -writable                                           ... Success
 findit . -writable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>                                ... Success
 findit . -type f -name <span style="color: #BA2121">&#39;*.unit&#39;</span> -executable                  ... Success
 findit . -type f -name <span style="color: #BA2121">&#39;*.unit&#39;</span> -executable <span style="color: #666666">(</span>valgrind<span style="color: #666666">)</span>       ... Success

   Score <span style="color: #666666">3</span>.00 / <span style="color: #666666">3</span>.00
  Status Success
</code></pre></div>

<p># Run test script manually
  $ ./findit.test.sh</p>
<h2 id="activity-4-quiz-2-points">Activity 4: Quiz (2 Points)<a class="headerlink" href="#activity-4-quiz-2-points" title="Permanent link">&para;</a></h2>
<p>Once you have completed all the activities above, you are to complete the
following <strong>reflection quiz</strong>:</p>
<div id="quiz-questions"></div>

<div id="quiz-responses"></div>

<script src="static/js/dredd-quiz.js"></script>
<script>
loadQuiz('static/json/homework08.json');
</script>

<pre style="display: none;" id="dr-container" class="codehilite"><code id="dredd-response"></code></pre>

<p>As with <a href="reading01.html">Reading 01</a>, you will need to store your answers in a
<code>homework08/answers.json</code> file.  You can use the form above to generate the
contents of this file, or you can write the <a href="https://json.org">JSON</a> by hand.</p>
<p>To test your quiz, you can use the <code>check.py</code> script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ../.scripts/check.py
Checking homework08 quiz ...
    Q01 <span style="color: #666666">0</span>.20
    Q02 <span style="color: #666666">1</span>.20
    Q03 <span style="color: #666666">0</span>.20
    Q04 <span style="color: #666666">0</span>.40
  Score <span style="color: #666666">2</span>.00 / <span style="color: #666666">2</span>.00
 Status Success
</code></pre></div>

<h2 id="guru-point-open-source-software-development-2-points">Guru Point: Open Source Software Development (2 Points)<a class="headerlink" href="#guru-point-open-source-software-development-2-points" title="Permanent link">&para;</a></h2>
<p>For extra credit, you most make a <strong>reasonable</strong> contribution to one of the
following open source projects:</p>
<div class="alert alert-warning">
<p><strong>Note</strong>: The groups will soon provide <strong>videos</strong> describing their projects,
which will be embedded below.</p>
<p>Likewise, some links are broken... they will be updated and fixed soon.</p>
</div>
<div class="row">
  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://wissh-nd.github.io/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="https://github.com/wissh-nd" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="https://discord.gg/Wg6fsP9r" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://wissh-nd.github.io/">WISSH</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://docudump.github.io/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="https://github.com/DocuDump/DocuDump/" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="https://discord.gg/GAnaUzVp" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://docudump.github.io/">DocuDump</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://bcaven.github.io/creativity-optional-vue/index.html" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="https://github.com/BCaven/creativity-optional" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="https://discord.gg/qN9BhGK36U" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://bcaven.github.io/creativity-optional-vue/index.html">Creativity Optional</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://odysseyatnd.vercel.app/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://odysseyatnd.vercel.app/">Odyssey</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://sunken-sun.itch.io/babel-world" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://sunken-sun.itch.io/babel-world">Babel World</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://projectoctopus.org/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="https://github.com/indigo-sword/project-octopus" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="https://discord.gg/pR48sxCSMf" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://projectoctopus.org/">Octopus</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://www.advisr.app/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://www.advisr.app/">AdVisor</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://justinklonoski25.github.io/WEBSITE/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://justinklonoski25.github.io/WEBSITE/">Bookworm</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="">Human Resources</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://atlasfit.github.io/" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="https://github.com/atlasfit/atlas" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="https://discord.gg/9cV84Sz3ft" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://atlasfit.github.io/">Atlas</a></h4></dt>
      </dl>
    </div>
  </div>

  <div class="col-md-6 thumbnail">
    <div class="embed-responsive embed-responsive-16by9">
    </div>
    <div style="padding: 5px;">
      <div class="btn-toolbar pull-right">
        <a href="https://open-source-software-development.github.io/Cardtorium-Website/#/index" class="btn btn-primary btn-sm"><i class="fa fa-link"></i></a>
        <a href="https://github.com/Open-Source-Software-Development/Cardtorium" class="btn btn-primary btn-sm"><i class="fa fa-github"></i></a>
        <a href="https://discord.gg/wR23Rvz4" class="btn btn-primary btn-sm"><i class="fa fa-comments"></i></a>
      </div>
      <dl>
      <dt><h4><a href="https://open-source-software-development.github.io/Cardtorium-Website/#/index">Cardtorium</a></h4></dt>
      </dl>
    </div>
  </div>

</div>

<div class="alert alert-success">
<p><strong>Note</strong>: These are student projects from <a href="https://www3.nd.edu/~pbui/teaching/cse.40677.sp24/">CSE 40677 Open Source Software Development</a>.</p>
</div>
<p>Each of the projects above has a <a href="https://github.com">GitHub</a> repository that you can explore. To
make a contribution, you will need to <strong>fork</strong> a repository and try to tackle
one of the issues marked as "good first issue".</p>
<p>You will receive <strong>one point</strong> for making a <strong>reasonable</strong> attempt at
contributing to one of the projects above (ie. a <strong>bug report</strong> or a <strong>pull
request</strong>). You will receive a <strong>second point</strong> if the project maintainers
<strong>acknowledge</strong> or <strong>approve</strong> of your contribution (may require responding
to some feedback).</p>
<div class="alert alert-info">
<h4 id="verification"><i class="fa fa-check"></i> Verification<a class="headerlink" href="#verification" title="Permanent link">&para;</a></h4>
<p>To get credit for this Guru Point, you must show a proof of <strong>(1)</strong> your
<strong>reasonable</strong> attempt at a contribution (ie. <strong>bug report</strong> or <strong>pull
request</strong>)., <strong>(2)</strong> <strong>acknowledgment</strong> from the project maintainers of your
contribution (ie.  <strong>verified bug report</strong> or <strong>merged pull request</strong>).  You
have up until <strong>two weeks after</strong> this assignment is due to verify your Guru
Point.</p>
</div>
<h2 id="submission">Submission<a class="headerlink" href="#submission" title="Permanent link">&para;</a></h2>
<p>To submit your assignment, please commit your work to the <code>homework08</code> folder
of your <code>homework08</code> branch in your <strong>assignments</strong> <a href="https://github.com">GitHub</a> repository.
Your <code>homework08</code> folder should <strong>only</strong> contain the following files:</p>
<ul>
<li><code>Makefile</code></li>
<li><code>answers.json</code></li>
<li><code>filter.c</code></li>
<li><code>filter.unit.c</code></li>
<li><code>findit.c</code></li>
<li><code>findit.h</code></li>
<li><code>list.c</code></li>
<li><code>list.unit.c</code></li>
</ul>
<div class="alert alert-warning">
<p><strong>Note</strong>: You do not need to commit the test scripts because the <code>Makefile</code>
automatically downloads them.</p>
</div>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic">#-----------------------------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># Make sure you have already completed Activity 0: Preparation</span>
<span style="color: #3D7B7B; font-style: italic">#-----------------------------------------------------------------------</span>
...
$ git add Makefile                        <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git add list.c                          <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework08: Activity 1&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git add Makefile                        <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git add filter.c                        <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework08: Activity 2&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git add Makefile                        <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git add findit.c                        <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework08: Activity 3&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git add answers.json                    <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework08: Activity 4&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git push -u origin homework08           <span style="color: #3D7B7B; font-style: italic"># Push branch to GitHub</span>
</code></pre></div>

<div class="alert alert-danger">
<h4 id="pull-request"><i class="fa fa-github"></i> Pull Request<a class="headerlink" href="#pull-request" title="Permanent link">&para;</a></h4>
<p>Remember to create a <strong>Pull Request</strong> and assign the appropriate TA from the
<a href="reading11_tas.html">Reading 11 TA List</a>.</p>
<p><strong>DO NOT MERGE</strong> your own <strong>Pull Request</strong>.  The TAs use open <strong>Pull Requests</strong>
to keep track of which assignments to grade.  Closing them yourself will
cause a delay in grading and confuse the TAs.</p>
</div>


	    <div class="row">
		<hr/>

		<footer class="text-center">
		    <p class="text-muted">
		    <small>
		    Built using
		    <a href="https://getbootstrap.com/">Bootstrap</a>,
		    <a href="https://fontawesome.com/">Font Awesome</a>, and
		    <a href="http://www.python.org/">Python</a>.
		    <br/>
		    &copy; 2024 <a href="http://www.nd.edu">University of Notre Dame</a>
		    </small>
		    </p>
		</footer>
	    </div>

	</div> <!-- /container -->

	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	
    </body>
</html>

